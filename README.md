I modified Abiria's code a bit to my liking.
